<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=google-site-verification content="<google-site-verification-code>"><meta name=author content="남규진"><meta name=description content="남규진의 개발 블로그"><meta name=keywords content="java,spring framework"><meta name=referrer content="always"><title>자바에서 문자를 구분자로 분리하기 - namkyujin.com</title><link rel=stylesheet type=text/css href=/css/main.css><link rel=icon href=/logo/favicon.ico type=image/x-icon></head><body><header><div><h1><a href=https://iamkyu.github.io>namkyujin.com</a></h1></div><nav><a href=/>blog</a><a href=https://github.com/iamkyu/TIL/blob/master/books/books.md>books</a><a href=/about/>about</a></nav></header><main><article><div class=meta><div>2016-07-16</div><div><span><a href=https://iamkyu.github.io/tags/java/>#java</a></span></div></div><div class=content><h1 id=자바에서-문자를-구분자로-분리하기>자바에서 문자를 구분자로 분리하기</h1><p>셀렉트리스트의 하나의 옵션에 여러 값(Value)을 줘야 할 경우 보통 구분자(delimiter)를 넣어두고 그 구분자를 기준으로 하여 하나의 값을 여러 값으로 분리해내는 방식을 사용한다.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1</span>&lt;<span style=color:#ff79c6>body</span>&gt;
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2</span>&lt;<span style=color:#ff79c6>select</span> <span style=color:#50fa7b>id</span><span style=color:#ff79c6>=</span><span style=color:#f1fa8c>&#34;select_list&#34;</span>&gt;
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3</span>    &lt;<span style=color:#ff79c6>option</span> <span style=color:#50fa7b>value</span><span style=color:#ff79c6>=</span><span style=color:#f1fa8c>&#34;APPLE|CARROT|PIZZA&#34;</span>&gt;Foods&lt;/<span style=color:#ff79c6>option</span>&gt;
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4</span>&lt;/<span style=color:#ff79c6>select</span>&gt;
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6</span>&lt;<span style=color:#ff79c6>script</span>&gt;
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7</span><span style=color:#8be9fd;font-style:italic>var</span> options <span style=color:#ff79c6>=</span> $(<span style=color:#f1fa8c>&#34;#select_list option:selected&#34;</span>).val();
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8</span><span style=color:#8be9fd;font-style:italic>var</span> values <span style=color:#ff79c6>=</span> options.split(<span style=color:#f1fa8c>&#34;|&#34;</span>);
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10</span><span style=color:#8be9fd;font-style:italic>var</span> params  <span style=color:#ff79c6>=</span> <span style=color:#f1fa8c>&#34;?FRUIT=&#34;</span> <span style=color:#ff79c6>+</span> values[<span style=color:#bd93f9>0</span>]
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11</span>    params <span style=color:#ff79c6>+=</span> <span style=color:#f1fa8c>&#34;&amp;VEGETABLE=&#34;</span> <span style=color:#ff79c6>+</span> values[<span style=color:#bd93f9>1</span>]
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12</span>    params <span style=color:#ff79c6>+=</span> <span style=color:#f1fa8c>&#34;&amp;INSTANT=&#34;</span> <span style=color:#ff79c6>+</span> values[<span style=color:#bd93f9>2</span>];
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14</span><span style=color:#6272a4>/*
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15</span><span style=color:#6272a4>values[0] = &#34;APPLE&#34;
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16</span><span style=color:#6272a4>values[1] = &#34;CARROT&#34;
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">17</span><span style=color:#6272a4>values[2] = &#34;PIZZA&#34;
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">18</span><span style=color:#6272a4>*/</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">19</span>&lt;/<span style=color:#ff79c6>script</span>&gt;
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">20</span>&lt;/<span style=color:#ff79c6>body</span>&gt;
</code></pre></div><p>주로 클라이언트측에서 특정 조건 값으로 조회(SELECT)를 할 때 위와 같이 view 단에서 자바스크립트를 통해 아예 다 분리를 한 다음 쿼리스트링을 만들어 HTTP GET 요청을 보냈다.</p><p>이번에 어쩌다보니 위와 같이 구분자로 구분되는 하나의 문자열을 서버에서 처리하게 되었는데, 자바와 자바스크립트의 split 이 비슷하게 동작하는 것으로 기억하고 구현하였다가 API 문서를 통해 잘못 기억하고 있다는 걸 깨닫고 &lsquo;내가 자바에서 split 을 이렇게 안써봤나?&rsquo; 하는 마음에 한번 정리한다.</p><h2 id=javalangstringsplitstring-regex>java.lang.String.split(String regex)</h2><ul><li><a href>http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#split-java.lang.String-</a></li></ul><p>먼저, <code>java.lang.String</code> 클래스에 포함되어 있는 split 매소드는 구분자로 받는 매개변수가 <code>정규식</code> 이다. (<code>limit</code> 도 매개변수로 받도록 오버로딩 된 메소드도 있지만, 이 글의 주 관심사는 아니므로 제외)</p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1</span>@Test
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2</span><span style=color:#8be9fd;font-style:italic>public</span> <span style=color:#8be9fd>void</span> <span style=color:#50fa7b>splitTest</span><span style=color:#ff79c6>(</span><span style=color:#ff79c6>)</span> <span style=color:#ff79c6>{</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3</span>    String text <span style=color:#ff79c6>=</span> <span style=color:#f1fa8c>&#34;APPLE|CARROT|PIZZA&#34;</span><span style=color:#ff79c6>;</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4</span>    String <span style=color:#ff79c6>[</span><span style=color:#ff79c6>]</span> array <span style=color:#ff79c6>=</span> text<span style=color:#ff79c6>.</span><span style=color:#50fa7b>split</span><span style=color:#ff79c6>(</span><span style=color:#f1fa8c>&#34;|&#34;</span><span style=color:#ff79c6>)</span><span style=color:#ff79c6>;</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5</span>    
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6</span>    assertEquals<span style=color:#ff79c6>(</span>3<span style=color:#ff79c6>,</span> array<span style=color:#ff79c6>.</span><span style=color:#50fa7b>length</span><span style=color:#ff79c6>)</span><span style=color:#ff79c6>;</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7</span><span style=color:#ff79c6>}</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8</span><span style=color:#6272a4>/*
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9</span><span style=color:#6272a4>Test Failed
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10</span><span style=color:#6272a4>
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11</span><span style=color:#6272a4>java.lang.AssertionError: 
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12</span><span style=color:#6272a4>Expected :3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13</span><span style=color:#6272a4>Actual   :18
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14</span><span style=color:#6272a4>*/</span>
</code></pre></div><p>위는 자바에서 자바스크립트와 같은 방식으로 split 을 사용하였다가 실패한 테스트이다.
자바스크립트와 같이 동작했다면 배열의 길이는 3이 되어야 했으나, 배열의 길이가 18이다(욕 아님). 지금 <code>array</code> 배열에는 <code>text</code>를 한글자씩 쪼개서 들어가 있다.</p><pre><code class=language-regex data-lang=regex>(fa|mo|(br|b)?o)ther
</code></pre><p>정규식에서 <code>|</code> (Vertical Bar)는 OR 로 인식한다고 한다. 위와 같은 정규식 조건이 있다고 할때, father, mother, bother, brother, other 단어 모두 위 조건을 통과할 수 있다.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span>그런데 그럼 정규식은 정규식이고 왜 한글자씩 쪼개져서 배열에 들어가느냐? 솔직히 이리저리 찾아 봤는데 세로 바(|)가 예약어라는 답변들 밖에는 찾지 못했다. 직접 디버깅 모드로 추적 해봤지만, split 을 수행하기 위해 Pattern 클래스 뿐만 아니라 많은 클래스들을 타고 들어가서 명확한 동작 방식을 이해하기가 힘들었다. 여튼 자바에서 split 메소드에 매개변수로 넘어가는 문자는 단순 문자가 아니라 정규식 이라는 것과 split 하는 것이 굉장히 복잡한 과정을 거친다는 것을 기억해야겠다.
</code></pre></div><h2 id=javautilstringtokenizer>java.util.StringTokenizer</h2><ul><li><a href>http://docs.oracle.com/javase/8/docs/api/java/util/StringTokenizer.html</a></li></ul><p>자바에는 문자를 분리하기 위해 <code>split</code> 말고 <code>StringTokenizer</code> 라는 클래스도 있다. 스플릿 은 <code>JDK 1.4</code> 부터 지원됐고, 토크나이저는 <code>JDK 1.0</code> 부터 지원했는데, API 문서를 읽어보면 토크나이저 대신 스플릿을 사용할 것을 권장한다. 하지만 <code>@deprecated</code> 된 클래스는 아니다.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1</span>@Test
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2</span><span style=color:#8be9fd;font-style:italic>public</span> <span style=color:#8be9fd>void</span> <span style=color:#50fa7b>toknizerTest</span><span style=color:#ff79c6>(</span><span style=color:#ff79c6>)</span> <span style=color:#ff79c6>{</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3</span>    String text <span style=color:#ff79c6>=</span> <span style=color:#f1fa8c>&#34;APPLE|CARROT|PIZZA&#34;</span><span style=color:#ff79c6>;</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4</span>    StringTokenizer st <span style=color:#ff79c6>=</span> <span style=color:#ff79c6>new</span> StringTokenizer<span style=color:#ff79c6>(</span>text<span style=color:#ff79c6>,</span> <span style=color:#f1fa8c>&#34;|&#34;</span><span style=color:#ff79c6>)</span><span style=color:#ff79c6>;</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5</span>    String <span style=color:#ff79c6>[</span><span style=color:#ff79c6>]</span> array <span style=color:#ff79c6>=</span> <span style=color:#ff79c6>new</span> String<span style=color:#ff79c6>[</span>3<span style=color:#ff79c6>]</span><span style=color:#ff79c6>;</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6</span>    <span style=color:#8be9fd>int</span> i <span style=color:#ff79c6>=</span> 0<span style=color:#ff79c6>;</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8</span>    <span style=color:#ff79c6>while</span> <span style=color:#ff79c6>(</span>st<span style=color:#ff79c6>.</span><span style=color:#50fa7b>hasMoreTokens</span><span style=color:#ff79c6>(</span><span style=color:#ff79c6>)</span><span style=color:#ff79c6>)</span> <span style=color:#ff79c6>{</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9</span>        array<span style=color:#ff79c6>[</span>i<span style=color:#ff79c6>]</span> <span style=color:#ff79c6>=</span> st<span style=color:#ff79c6>.</span><span style=color:#50fa7b>nextToken</span><span style=color:#ff79c6>(</span><span style=color:#ff79c6>)</span><span style=color:#ff79c6>;</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10</span>        i<span style=color:#ff79c6>+</span><span style=color:#ff79c6>+</span><span style=color:#ff79c6>;</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11</span>    <span style=color:#ff79c6>}</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13</span>    assertEquals<span style=color:#ff79c6>(</span>3<span style=color:#ff79c6>,</span> array<span style=color:#ff79c6>.</span><span style=color:#50fa7b>length</span><span style=color:#ff79c6>)</span><span style=color:#ff79c6>;</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14</span><span style=color:#ff79c6>}</span>
</code></pre></div><p>스플릿과 달리 토크나이저는 문자 그대로를 구분자로 사용하기 때문에 위 코드는 성공하는 테스트이다. 하지만 토크나이저는 클래스이기 때문에 분리하고 하나씩 읽어 들이는 번거로운 과정과 그 코드들이 모두 사용하는 쪽에 드러난다.</p><h2 id=benchmark>Benchmark</h2><p>최근에 JMH (<a href>http://openjdk.java.net/projects/code-tools/jmh/</a>) 라는 자바 성능측정 툴을 알게 되어 스플릿과 토크나이저 성능비교를 한번 해봤다. 굉장히 약식으로 하였고, 전제조건 등도 제대로 설정하고 돌린 벤치마크가 아니기 때문에 그냥 가볍게 보면 좋겠다.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1</span>@Benchmark
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2</span><span style=color:#8be9fd;font-style:italic>public</span> <span style=color:#8be9fd>void</span> <span style=color:#50fa7b>splitTest</span><span style=color:#ff79c6>(</span><span style=color:#ff79c6>)</span> <span style=color:#ff79c6>{</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3</span>    String text <span style=color:#ff79c6>=</span> <span style=color:#f1fa8c>&#34;APPLE|CARROT|PIZZA&#34;</span><span style=color:#ff79c6>;</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4</span>    String <span style=color:#ff79c6>[</span><span style=color:#ff79c6>]</span> array <span style=color:#ff79c6>=</span> text<span style=color:#ff79c6>.</span><span style=color:#50fa7b>split</span><span style=color:#ff79c6>(</span><span style=color:#f1fa8c>&#34;|&#34;</span><span style=color:#ff79c6>)</span><span style=color:#ff79c6>;</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5</span><span style=color:#ff79c6>}</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7</span>@Benchmark
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8</span><span style=color:#8be9fd;font-style:italic>public</span> <span style=color:#8be9fd>void</span> <span style=color:#50fa7b>toknizerTest</span><span style=color:#ff79c6>(</span><span style=color:#ff79c6>)</span> <span style=color:#ff79c6>{</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9</span>    String text <span style=color:#ff79c6>=</span> <span style=color:#f1fa8c>&#34;APPLE|CARROT|PIZZA&#34;</span><span style=color:#ff79c6>;</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10</span>    StringTokenizer st <span style=color:#ff79c6>=</span> <span style=color:#ff79c6>new</span> StringTokenizer<span style=color:#ff79c6>(</span>text<span style=color:#ff79c6>,</span> <span style=color:#f1fa8c>&#34;|&#34;</span><span style=color:#ff79c6>)</span><span style=color:#ff79c6>;</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11</span>    String <span style=color:#ff79c6>[</span><span style=color:#ff79c6>]</span> array <span style=color:#ff79c6>=</span> <span style=color:#ff79c6>new</span> String<span style=color:#ff79c6>[</span>3<span style=color:#ff79c6>]</span><span style=color:#ff79c6>;</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12</span>    <span style=color:#8be9fd>int</span> i <span style=color:#ff79c6>=</span> 0<span style=color:#ff79c6>;</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14</span>    <span style=color:#ff79c6>while</span> <span style=color:#ff79c6>(</span>st<span style=color:#ff79c6>.</span><span style=color:#50fa7b>hasMoreTokens</span><span style=color:#ff79c6>(</span><span style=color:#ff79c6>)</span><span style=color:#ff79c6>)</span> <span style=color:#ff79c6>{</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15</span>        array<span style=color:#ff79c6>[</span>i<span style=color:#ff79c6>]</span> <span style=color:#ff79c6>=</span> st<span style=color:#ff79c6>.</span><span style=color:#50fa7b>nextToken</span><span style=color:#ff79c6>(</span><span style=color:#ff79c6>)</span><span style=color:#ff79c6>;</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16</span>        i<span style=color:#ff79c6>+</span><span style=color:#ff79c6>+</span><span style=color:#ff79c6>;</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">17</span>    <span style=color:#ff79c6>}</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">18</span><span style=color:#ff79c6>}</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">19</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">20</span># JMH 1<span style=color:#ff79c6>.</span><span style=color:#50fa7b>12</span> <span style=color:#ff79c6>(</span>released 105 days ago<span style=color:#ff79c6>,</span> please consider updating<span style=color:#ff79c6>!</span><span style=color:#ff79c6>)</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">21</span># VM version<span style=color:#ff79c6>:</span> JDK 1<span style=color:#ff79c6>.</span><span style=color:#50fa7b>8</span><span style=color:#ff79c6>.</span><span style=color:#50fa7b>0_73</span><span style=color:#ff79c6>,</span> VM 25<span style=color:#ff79c6>.</span><span style=color:#50fa7b>73</span><span style=color:#ff79c6>-</span>b02
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">22</span># VM invoker<span style=color:#ff79c6>:</span> <span style=color:#ff79c6>/</span>Library<span style=color:#ff79c6>/</span>Java<span style=color:#ff79c6>/</span>JavaVirtualMachines<span style=color:#ff79c6>/</span>jdk1<span style=color:#ff79c6>.</span><span style=color:#50fa7b>8</span><span style=color:#ff79c6>.</span><span style=color:#50fa7b>0_73</span><span style=color:#ff79c6>.</span><span style=color:#50fa7b>jdk</span><span style=color:#ff79c6>/</span>Contents<span style=color:#ff79c6>/</span>Home<span style=color:#ff79c6>/</span>jre<span style=color:#ff79c6>/</span>bin<span style=color:#ff79c6>/</span>java
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">23</span># VM options<span style=color:#ff79c6>:</span> <span style=color:#ff79c6>-</span>Dfile<span style=color:#ff79c6>.</span><span style=color:#50fa7b>encoding</span><span style=color:#ff79c6>=</span>UTF<span style=color:#ff79c6>-</span>8
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">24</span># Warmup<span style=color:#ff79c6>:</span> 20 iterations<span style=color:#ff79c6>,</span> 1 s each
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">25</span># Measurement<span style=color:#ff79c6>:</span> 20 iterations<span style=color:#ff79c6>,</span> 1 s each
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">26</span># Timeout<span style=color:#ff79c6>:</span> 10 min per iteration
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">27</span># Threads<span style=color:#ff79c6>:</span> 1 thread<span style=color:#ff79c6>,</span> will synchronize iterations
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">28</span># Benchmark mode<span style=color:#ff79c6>:</span> Throughput<span style=color:#ff79c6>,</span> ops<span style=color:#ff79c6>/</span>time
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">29</span># Benchmark<span style=color:#ff79c6>:</span> com<span style=color:#ff79c6>.</span><span style=color:#50fa7b>test</span><span style=color:#ff79c6>.</span><span style=color:#50fa7b>StringBenchmark</span><span style=color:#ff79c6>.</span><span style=color:#50fa7b>splitTest</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">30</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">31</span>Benchmark     Mode  Cnt         Score        Error  Units
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">32</span>splitTest     thrpt  200   1227784<span style=color:#ff79c6>.</span><span style=color:#50fa7b>106</span> ±  10013<span style=color:#ff79c6>.</span><span style=color:#50fa7b>248</span>  ops<span style=color:#ff79c6>/</span>s
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">33</span>toknizerTest  thrpt  200  12667246<span style=color:#ff79c6>.</span><span style=color:#50fa7b>536</span> ± 171699<span style=color:#ff79c6>.</span><span style=color:#50fa7b>957</span>  ops<span style=color:#ff79c6>/</span>s
</code></pre></div><h2 id=결론>결론</h2><p>어찌됐든 자바에서도 토크나이저 클래스 보다는 스플릿 메소드를 사용할 것을 권장하고 있다. 스플릿 메소드는 정규표현식을 통해 정규식 뿐만 아니라 문자를 구분자로도 사용할 수 있지만 토크나이저는 정규표현식을 사용할 수는 없다. 그리고 위에도 적었지만 문자를 구분자로 분리하고 이터레이트(iterate) 하는 과정이 모두 사용하는 쪽에서 코드가 드러나기 때문에 별로인 것 같다.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span>String <span style=color:#ff79c6>[</span><span style=color:#ff79c6>]</span> array <span style=color:#ff79c6>=</span> text<span style=color:#ff79c6>.</span><span style=color:#50fa7b>split</span><span style=color:#ff79c6>(</span><span style=color:#f1fa8c>&#34;\\|&#34;</span><span style=color:#ff79c6>)</span><span style=color:#ff79c6>;</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span>String <span style=color:#ff79c6>[</span><span style=color:#ff79c6>]</span> array <span style=color:#ff79c6>=</span> text<span style=color:#ff79c6>.</span><span style=color:#50fa7b>split</span><span style=color:#ff79c6>(</span><span style=color:#ff79c6>(</span>Pattern<span style=color:#ff79c6>.</span><span style=color:#50fa7b>quote</span><span style=color:#ff79c6>(</span><span style=color:#f1fa8c>&#34;|&#34;</span><span style=color:#ff79c6>)</span><span style=color:#ff79c6>)</span><span style=color:#ff79c6>)</span><span style=color:#ff79c6>;</span>
</code></pre></div><p>스플릿 메소드에서 세로 바(<code>|</code>)로 문자를 분리하기 위해서는 위와 같이 역슬래쉬를 두개 포함하거나, <code>Pattern</code> 클래스를 활용하면 되겠다.</p><h2 id=참고자료>참고자료</h2><ul><li><a href>http://stackoverflow.com/questions/5675704/java-string-split-not-returning-the-right-values</a></li><li><a href>http://stackoverflow.com/questions/6983856/why-is-stringtokenizer-deprecated</a></li><li><a href>http://library1008.tistory.com/16</a></li><li><a href="http://book.naver.com/bookdb/book_detail.nhn?bid=7188745">자바의 신 Vol 2 주요 API 응용편, 이상민 저</a></li><li>진짜 잘 만든 정규식 슬라이드 강추! <a href=http://www.slideshare.net/ibare/ss-39274621>초보자를 위한 정규 표현식 가이드</a></li></ul></div><div class=side style=position:fixed;right:50px;max-width:255px;overflow:auto;top:120px;width:220px;bottom:90px><div class=toc><div class=page-header><strong>Table of contents</strong></div><div id=page-scrollspy class=toc-nav><ul class=nav><li class=nav-item><a class="nav-link text-left" href=#%ec%9e%90%eb%b0%94%ec%97%90%ec%84%9c-%eb%ac%b8%ec%9e%90%eb%a5%bc-%ea%b5%ac%eb%b6%84%ec%9e%90%eb%a1%9c-%eb%b6%84%eb%a6%ac%ed%95%98%ea%b8%b0>자바에서 문자를 구분자로 분리하기</a></li></ul><ul class=nav><ul class=nav><li class=nav-item><a class="nav-link text-left" href=#javalangstringsplitstring-regex>java.lang.String.split(String regex)</a></li></ul></ul><ul class=nav><ul class=nav><li class=nav-item><a class="nav-link text-left" href=#javautilstringtokenizer>java.util.StringTokenizer</a></li></ul></ul><ul class=nav><ul class=nav><li class=nav-item><a class="nav-link text-left" href=#benchmark>Benchmark</a></li></ul></ul><ul class=nav><ul class=nav><li class=nav-item><a class="nav-link text-left" href=#%ea%b2%b0%eb%a1%a0>결론</a></li></ul></ul><ul class=nav><ul class=nav><li class=nav-item><a class="nav-link text-left" href=#%ec%b0%b8%ea%b3%a0%ec%9e%90%eb%a3%8c>참고자료</a></li></ul></ul></div></div></div></article></main><footer><div><div>&copy; 2024 Kyujin Nam. <a href=https://creativecommons.org/licenses/by/4.0/deed.ko>CC-BY-4.0</a><p>Powered by <a href=https://gohugo.io/>Hugo</a> with <a href=https://github.com/yanlinlin82/simple-style>Simple-Style</a></div></div></footer><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-87267111-1','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><a href=https://github.com/iamkyu/iamkyu.github.io class=github-corner aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513;color:#fff;position:absolute;top:0;border:0;right:0" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media(max-width:800px){.github-corner{display:none}}</style></body></html>